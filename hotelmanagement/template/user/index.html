{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Hotel Booking</title>

    <link href="//fonts.googleapis.com/css?family=Spartan:400,500,600,700,900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'assets/css/style-starter.css' %}">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">

  </head>
  <body>
      <style>
        body {
            background-color:#1d1d1d !important;
            font-family: "Asap", sans-serif;
            color:#989898;
            margin:10px;
            font-size:16px;
          }
          
          #demo {
            height:100%;
            position:relative;
            overflow:hidden;
          }
          
          
          .green{
            background-color:#6fb936;
          }
                  .thumb{
                      margin-bottom: 30px;
                  }
                  
                  .page-top{
                      margin-top:85px;
                  }
          
             
          img.zoom {
              width: 100%;
              height: 200px;
              border-radius:5px;
              object-fit:cover;

          }
                  
           
          .transition {
              -webkit-transform: scale(1.2); 
              -moz-transform: scale(1.2);
              -o-transform: scale(1.2);
              transform: scale(1.2);
          }
              .modal-header {
             
               border-bottom: none;
          }
              .modal-title {
                  color:#000;
              }
              .modal-footer{
                display:none;  
              }
          
      </style>
<!--w3l-header-->

<header class="w3l-header-nav">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        {% if user.is_authenticated %}
          <a class="navbar-brand" href='/'>
            <img src="https://cdn2.iconfinder.com/data/icons/social-media-flat-line/70/user-512.png" style="height:60px;    color: #d63447; font-weight: 700; font-size: 30px; letter-spacing: -1px; padding: 0; display: grid;  grid-template-columns: auto auto;grid-gap: 10px; margin: 0;" >
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
          </button>
          
          <div class="collapse navbar-collapse ml-auto" id="navbarSupportedContent">
              <ul class="navbar-nav ml-auto">
              <li class="nav-item active my-auto">
                  <a class="nav-link" style="color: #d63447;  margin-left: 3rem; font-size: 20px;margin-top: auto;" href="/">Home <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item my-auto">
                  <a class="nav-link" style="color: #d63447;  margin-left: 3rem; font-size: 20px;margin-top: auto;" href='/logout/'>Log-out</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" style="color: #d63447;  margin-left: 3rem; font-size: 20px;margin-top: auto;" href="/history/">Booking History</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" style="color: #d63447;  margin-left: 3rem; font-size: 20px;margin-top: auto;" href="/coupen/"><i class="fa fa-money" aria-hidden="true"></i></a>
              </li>
              </ul>
          </div>
            
        {% else %}
          <a class="navbar-brand" href='/'>
            <img src="https://cdn2.iconfinder.com/data/icons/social-media-flat-line/70/user-512.png" style="height:60px;    color: #d63447; font-weight: 700; font-size: 30px; letter-spacing: -1px; padding: 0; display: grid;  grid-template-columns: auto auto;grid-gap: 10px; margin: 0;" >
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse ml-auto" id="navbarSupportedContent">
              <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                  <a class="nav-link" style="color: #d63447;  margin-left: 3rem; font-size: 20px;margin-top: auto;" href="/">Home <span class="sr-only">(current)</span></a>
                </li>
                <li>
                  <a class="nav-link" style="color: #d63447;  margin-left: 3rem; font-size: 20px;margin-top: auto;" href="/login/">Login</a>
                </li>
              </ul>
          </div>
        {%endif%}
        
          
       
    </nav>
	
</header>
<!-- //w3l-header -->
 <!-- main-slider -->
<section class="w3l-main-slider" id="home">
     <div class="companies20-content">
         <div class="owl-one owl-carousel owl-theme">
             <div class="item">
                 <li>
                     <div class="slider-info banner-view bg bg2">
                         <div class="banner-info">
                             <div class="container">
                                 <div class="banner-info-bg">
                                     <h5>Location is heavenly. Best to visit in week days to enjoy the peaceful beauty
                                     </h5>
                                 </div>
                             </div>
                         </div>
                     </div>
                 </li>
             </div>
             <div class="item">
                 <li>
                     <div class="slider-info  banner-view banner-top1 bg bg2">
                         <div class="banner-info">
                             <div class="container">
                                 <div class="banner-info-bg">
                                    <h5>Our new hotels will play a leading role in prompting the world peace.</h5>
                                 </div>
                             </div>
                         </div>
                     </div>
                 </li>
             </div>
             <div class="item">
                 <li>
                     <div class="slider-info banner-view banner-top2 bg bg2">
                         <div class="banner-info">
                             <div class="container">
                                 <div class="banner-info-bg">
                                     <h5>Most hotels train their people with the booklets. We take ours to the ballet.
                                     </h5>
                                 </div>
                             </div>
                         </div>
                     </div>
                 </li>
             </div>
             <div class="item">
                 <li>
                     <div class="slider-info banner-view banner-top3 bg bg2">
                         <div class="banner-info">
                             <div class="container">
                                 <div class="banner-info-bg">
                                     <h5>Good tourism will follow good hotels. Experience our luxury hotel rooms</h5>
                                 </div>
                             </div>
                         </div>
                     </div>
                 </li>
             </div>
         </div>
     </div>
 </section>
 <!-- /main-slider -->
<section class="w3l-availability-form" id="booking">
    <!-- /w3l-availability-form-section -->
    <div class="w3l-availability-form-main py-5">
        <div class="container pt-lg-3 pb-lg-5">
            <div class="forms-top">
                <div class="form-right">
                    <div class="form-inner-cont">
                        <h3 class="title-small">Check Availability</h3>
                        <form class="signin-form">
                            <div class="row book-form">
                                <div class="form-input col-md-4 col-sm-6 mt-3">
                                    <label>Check-in Date</label>
                                    <input id="check_in" type="date" name="" placeholder="Date" >
                                </div>
                                <div class="form-input col-md-4 col-sm-6 mt-3">
                                  <label>Category</label>
                                  <select name="category" id="category">
                                    <option value="0">select category</option>
                                    {% for category in categories %}
                                      <option value="{{category.id}}">{{category.category}}</option>
                                    {% endfor %}
                                  </select>
                                </div>
                                <div class="form-input col-md-4 col-sm-6 mt-3">
                                  <label>Amenities</label><br>
                                  {% for amenity in amenities%}
                                  
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="checkbox"  name="amenities" value="{{amenity.amenities}}" >
                                        <label class="form-check-label" for="inlineCheckbox1" style="font-size: 18px; color: #ffffff;">{{amenity.amenities}}</label>
                                    </div>
                                  {% endfor %}
                                </div>
                                <div class="form-input col-md-4 col-sm-6 mt-3">
                                    <label>Rooms</label>
                                    <select id="room" class="selectpicker">
                                        <option value="0">select rooms</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>

                                    </select>
                                </div>
                                <div class="form-input col-md-4 col-sm-6 mt-3">
                                    <label>Guests</label>
                                    <select id="guest" class="selectpicker">
                                        <option value="0">select guest</option>
                                    </select>
                                </div>
                                <h6 id="span" style="color: red;"></h6>
                                <div class="bottom-btn col-md-4 col-sm-6 mt-3"><br> <br>
                                    <button type="button" id="check_availability" class="btn btn-style btn-primary w-100 px-2">Check Availability</button>
                                    <!-- <button type="button" id="check_availability">check</button> -->
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="best-rooms py-5">
    <div class="container page-top">
        <div class="dfle">
            <label for="gallery" class="d-flex justify-content-center" style="color: #000; font-size: 28px;  line-height: 32px;  text-transform: uppercase; margin-bottom: 50px;font-weight: 600;  align-items: center; position: relative;">Rooms</label>
        </div>
        <div class="row">
            {% for category in categories %}
              {% for room in rooms %}
                  {% if room.category.category == category.category %}
                  <label for="" style="font-size: 25px; font-family: -webkit-body; color: brown;">{{category.category}}</label>
                      <div class="col-lg-12  col-md-12 col-xs-12 thumb">
                        <div class="float-left col-lg-6">
                          {% for offer in offers %}
                            {% if offer.category.category == room.category.category %}
                            {% if offer.start == True %}
                            <label for="" style="font-size: 20px; font-family: -webkit-body; color: rgb(40 167 69);">--Special offer-- </label>
                            {% endif %}
                            {% endif %}
                          {% endfor %}
                          <a href="/specificroom/{{room.id}}" class="fancybox" rel="ligthbox">
                            <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
                              <div class="carousel-inner">
                                {% for roompic in roompics %}
                                  {% if roompic.room.category.category == room.category.category %}
                                    <div class="carousel-item active">
                                      <img src="{{roompic.ImageURL}}" class="d-block w-100" alt="...">
                                    </div>
                                  {% endif %}
                                {% endfor %}
                              </div>
                            </div>
                          </a>
                        </div>
                        <div class="float-right col-lg-6">
                          <h6>About: <br></h6><p>{{room.description}}</p><br>
                          <h6>Amenities:</h6>
                          <p>
                            {% for am in setamenities %}
                              {% if am.room_id == room.id %}
                                {{am.amenities.amenities}} &nbsp;
                              {%endif%}
                            {%endfor%}
                          </p>
                          <label style="font-family: fantasy; font-size: 20px; color: initial; margin-top: 25px;" for="price">₹ {{room.price}}</label><br>
                          {% for offer in offers %}
                            {% if offer.category.category == room.category.category %}
                              {% if offer.start == True %}
                                <label style="font-family: fantasy; font-size: 20px; color: initial; margin-top: 25px;" for="price">Offer price:₹ {{offer.discount}}</label><br>
                              {% endif %}
                            {% endif %}
                          {% endfor %}
                          <a href="/specificroom/{{room.id}}"><button type="button" class="btn btn-success">Book Now</button></a>
                        </div>
                      </div>
                  {% endif %}
              {%endfor%}
            {%endfor%}
        </div>
    </div> 
</div>


<section class="w3l-logos py-5">
    <div class="container py-lg-3">
        <div class="row">
            
        </div>
    </div>
</section>
<section class="w3l-footer-29-main">
  <div class="footer-29 py-5">
    <div class="container py-lg-4">
      <div class="row footer-top-29">
        <div class="col-lg-3 col-md-6 col-sm-8 footer-list-29 footer-1">
          <h6 class="footer-title-29">Contact Us</h6>
          <ul>
            <li>
              <p><span class="fa fa-map-marker"></span> Live hotel, #32841 block, #221DRS Rental & Paid rooms
                business, UK.</p>
            </li>
            <li><a href="tel:+7-800-999-800"><span class="fa fa-phone"></span> +(21)-255-999-8888</a></li>
            <li><a href="mailto:liveyour@hotel.com" class="mail"><span class="fa fa-envelope-open-o"></span>
                liveyour@hotel.com</a></li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-6 col-sm-4 footer-list-29 footer-2 mt-sm-0 mt-5">
        </div>
        <div class="col-lg-3 col-md-6 col-sm-5 footer-list-29 footer-3 mt-lg-0 mt-5">
           
            
        </div>
        <div class="col-lg-4 col-md-6 col-sm-7 footer-list-29 footer-4 mt-lg-0 mt-5">
          
        </div>
      </div>
    </div>
  </div>
</section>

<section class="w3l-footer-29-main w3l-copyright">
  <div class="container">
    <div class="row bottom-copies">
      <p class="col-lg-8 copy-footer-29">© live 2020 Hotels. All rights reserved</p>

      <div class="col-lg-4 main-social-footer-29">
        <a href="#facebook" class="facebook"><span class="fa fa-facebook"></span></a>
        <a href="#twitter" class="twitter"><span class="fa fa-twitter"></span></a>
        <a href="#instagram" class="instagram"><span class="fa fa-instagram"></span></a>
        <a href="#linkedin" class="linkedin"><span class="fa fa-linkedin"></span></a>
      </div>

    </div>
  </div>

 <!-- move top -->
 <button onclick="topFunction()" id="movetop" title="Go to top">
  &#10548;
</button>
<script>
  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function () {
    scrollFunction()
  };

  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      document.getElementById("movetop").style.display = "block";
    } else {
      document.getElementById("movetop").style.display = "none";
    }
  }

  // When the user clicks on the button, scroll to the top of the document
  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }
</script>
<!-- /move top -->
</section>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<!-- <script src="{% static 'assets/js/jquery.magnific-popup.min.js'%}"></script> -->
<script src="{% static 'assets/js/bootstrap.min.js'%}"></script>
<!-- <script src="{% static 'assets/js/jquery-3.3.1.min.js'%}"></script> -->
<script src="{% static 'assets/js/owl.carousel.js'%}"></script>
<script>
  $('#check_availability').click(function(){
        var check_in = $('#check_in').val()
        var category = $('#category').val()
        var amenities_list = []
        var array = []; 
        $("input:checkbox[name=amenities]:checked").each(function() { 
            array.push($(this).val()); 
        }); 
        $('#GFG_DOWN').text(array);
        var room = $('#room').val()
        var data = {
          'csrfmiddlewaretoken':'{{csrf_token}}',
          'check_in':check_in,
          'category':category,
          'amenities[]':array,
          'room':room,
        }
        if(check_in==''){
          $('#span').html('select check in date')
        }else if(category=='0' || room =='0' ){
          $('#span').html('select credentials')
        }else{
          $.ajax({
            url:'/filter/',
            method:'POST',
            data:data,
            dataType:'json',
            success:function(data){
              if(data == 'true'){
                window.location.replace('/filter/')
              }
              if(data == 'amenity'){
                $('#span').html('Amenities not available')
              }
              if(data == 'false'){
                $('#span').html('No rooms available')
              }
            }
          })
        }

      })
</script>


<script>
  $(document).ready(function(){
    $('#room').change(function(){
      var val = $('#room').val()
      if(val == '1'){
        $('#guest').html('<option value="1" selected>1</option><option value="2" selected>2</option><option value="3" selected>3</option><option value="4" selected>4</option>')
      }else if(val == '2'){
        $('#guest').html('<option value="1" selected>1</option><option value="2" selected>2</option><option value="3" selected>3</option><option value="4" selected>4</option><option value="5" selected>5</option><option value="6" selected>6</option><option value="7" selected>7</option><option value="8" selected>8</option>')
      }else if(val == '3'){
        $('#guest').html('<option value="1" selected>1</option><option value="2" selected>2</option><option value="3" selected>3</option><option value="4" selected>4</option><option value="5" selected>5</option><option value="6" selected>6</option><option value="7" selected>7</option><option value="8" selected>8</option><option value="9" selected>9</option><option value="10" selected>10</option><option value="11" selected>11</option><option value="12" selected>12</option>')
      }else if(val =='4'){
        $('#guest').html('<option value="1" selected>1</option><option value="2" selected>2</option><option value="3" selected>3</option><option value="4" selected>4</option><option value="5" selected>5</option><option value="6" selected>6</option><option value="7" selected>7</option><option value="8" selected>8</option><option value="9" selected>9</option><option value="10" selected>10</option><option value="11" selected>11</option><option value="12" selected>12</option><option value="13" selected>13</option><option value="14" selected>14</option><option value="15" selected>15</option><option value="16" selected>16</option>')
      }else{
        $('#guest').html('<option value="0" selected>select room</option>')
      }
    })
  })

  
  $(function(){
    var dtToday = new Date();
    
    var month = dtToday.getMonth() + 1;
    var day = dtToday.getDate();
    var year = dtToday.getFullYear();
    if(month < 10)
        month = '0' + month.toString();
    if(day < 10)
        day = '0' + day.toString();
    
    var maxDate = year + '-' + month + '-' + day;
    $('#check_in').attr('min', maxDate);
    });
    
</script>


<!-- script for banner slider-->
<script>
  $(document).ready(function () {
    $('.owl-one').owlCarousel({
      loop: true,
      margin: 0,
      nav: false,
      responsiveClass: true,
      autoplay: false,
      autoplayTimeout: 5000,
      autoplaySpeed: 1000,
      autoplayHoverPause: false,
      responsive: {
        0: {
          items: 1,
          nav: false
        },
        480: {
          items: 1,
          nav: false
        },
        667: {
          items: 1,
          nav: true
        },
        1000: {
          items: 1,
          nav: true
        }
      }
    })
  })
</script>
<!-- //script -->

<!-- script for owlcarousel -->
<script>
  $(document).ready(function () {
    $('.owl-testimonial').owlCarousel({
      loop: true,
      margin: 0,
      nav: true,
      responsiveClass: true,
      autoplay: false,
      autoplayTimeout: 5000,
      autoplaySpeed: 1000,
      autoplayHoverPause: false,
      responsive: {
        0: {
          items: 1,
          nav: false
        },
        480: {
          items: 1,
          nav: false
        },
        667: {
          items: 1,
          nav: true
        },
        1000: {
          items: 1,
          nav: true
        }
      }
    })
  })
</script>
<!-- //script for owlcarousel -->

<script>
  $(document).ready(function () {
    $('.popup-with-zoom-anim').magnificPopup({
      type: 'inline',

      fixedContentPos: false,
      fixedBgPos: true,

      overflowY: 'auto',

      closeBtnInside: true,
      preloader: false,

      midClick: true,
      removalDelay: 300,
      mainClass: 'my-mfp-zoom-in'
    });

    $('.popup-with-move-anim').magnificPopup({
      type: 'inline',

      fixedContentPos: false,
      fixedBgPos: true,

      overflowY: 'auto',

      closeBtnInside: true,
      preloader: false,

      midClick: true,
      removalDelay: 300,
      mainClass: 'my-mfp-slide-bottom'
    });
  });
</script>


<!-- disable body scroll which navbar is in active -->
<script>
$(function () {
  $('.navbar-toggler').click(function () {
    $('body').toggleClass('noscroll');
  })
});
</script>
<!-- disable body scroll which navbar is in active -->



</body>

</html>