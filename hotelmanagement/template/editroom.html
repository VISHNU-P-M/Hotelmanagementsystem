{% extends 'base.html' %}
{% block link %}
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<style>
    /* Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    
    /* Firefox */
    input[type=number] {
      -moz-appearance: textfield;
    }
    </style>
{%endblock%}

{%block content %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>


    <style>
        body{
            background: -webkit-linear-gradient(left, #0072ff, #00c6ff);
        }
        .contact-form{
            background: #fff;
            margin-top: 10%;
            margin-bottom: 5%;
        }
        .contact-form .form-control{
            border-radius:1rem;
        }
        .contact-image{
            text-align: center;
        }
        .contact-image img{
            width: 11%;
            margin-top: 2%;
        }
        .contact-form form{
            padding: 14%;
        }
        .contact-form form .row{
            margin-bottom: -7%;
        }
        .contact-form h3{
            margin-bottom: 8%;
            margin-top: -10%;
            text-align: center;
            color: #0062cc;
        }
        .contact-form .btnContact {
            width: 50%;
            border: none;
            border-radius: 1rem;
            padding: 1.5%;
            background: #dc3545;
            font-weight: 600;
            color: #fff;
            cursor: pointer;
        }
        .btnContactSubmit
        {
            width: 50%;
            border-radius: 1rem;
            padding: 1.5%;
            color: #fff;
            background-color: #0062cc;
            border: none;
            cursor: pointer;
        }
        .text{
            text-align: center;
            color: #0062cc;
        }
    </style>
    <section id="main-content">
        <section class="wrapper">
            <div class="container contact-form">
                <div class="contact-image">
                    <img src="https://cdn.iconscout.com/icon/premium/png-512-thumb/available-room-1-501679.png" alt="rocket_contact"/>
                </div>
                <form method="post" action="/admin/editrooms/{{room.id}}" enctype="multipart/form-data">
                    {% csrf_token %} 
                    <h3>Add Room</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="room_no" class="text">Room Number:</label>
                                <input type="number" name="room_no" class="form-control" readonly  min="3" id="room_no" value="{{room.room_no}}" required='true' />
                            </div>
                            <label for="category" class="text">Category:</label>
                            <div class="form-group">
                                <div class="form-check form-check-inline">
                                    <select name="category" id="category">
                                        {% for category in categories %}
                                            <option value="{{category.id}}" {% if category.category == room.category.category %} selected {% endif %} >{{category.category}}</option>
                                        {% endfor %}
                                      </select>
                                </div>
                            </div>
                            <label for="Amenities" class="text">Amenities</label>
                            <div class="form-group">
                                <div class="form-check form-check-inline">
                                    {%for i in amenities%}
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="checkbox"  name="name" value="{{i.id}}" {% if i.amenities in setamenities_list %} checked {% endif %}>
                                            <label class="form-check-label" for="inlineCheckbox1" style="font-size: 18px; color: #b93a7b;">{{i.amenities}}</label>
                                        </div>
                                    {%endfor%}
                                    
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="room_no" class="text">Price:</label>
                                <input type="number" name="price" class="form-control" id="price" value="{{room.price}}" required />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label for="room_no" class="text">Description:</label>
                            <div class="form-group">
                                <textarea name="description" id="textarea" class="form-control" values placeholder="Your Message *" style="width: 100%; height: 150px;"  required>{{room.discription}}</textarea>
                            </div>
                            <label for="room_no" class="text">Images:</label>
                            <div >
                                <div class="col-md-3 mt-2"style="visibility: hidden;" >
                                    <div class="form-group">
                                        <input type="file" id="img1" value="{{room.pic1.url}}" name="img1" style="visibility: hidden;">
                                    </div>
                                    <div class="form-group">
                                        <input type="file" id="img2" name="img2" value="{{room.pic2.url}}" style="visibility: hidden;">
                                    </div>
                                    <div class="form-group">
                                        <input type="file" id="img3" name="img3" value="{{room.pic3.url}}" style="visibility: hidden;">
                                    </div>
                                    <div class="form-group">
                                        <input type="file" id="img4" name="img4" value="{{room.pic4.url}}" style="visibility: hidden;">
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <div id="img1div">
                                            {% if room.pic1 == '' %}
                                            <img id="pic10" style="width: 50px;" src="https://icon-library.com/images/living-room-icon-png/living-room-icon-png-9.jpg" alt="">
                                            {% else %}
                                                <img id="pic11" style="width: 150px;" src="{{room.pic1.url}}" alt="">
                                            {% endif %}
                                        </div>
                                        <div id="img1replace"></div>
                                        <script>
                                            $('#pic10').click(function(){
                                                $('#img1').click()
                                                function readURL(input) {
                                                    if (input.files && input.files[0]) {
                                                        var reader = new FileReader();
                                                        
                                                        reader.onload = function(e) {
                                                        $('#pic10').attr('src', e.target.result);
                                                        }
                                                        
                                                        reader.readAsDataURL(input.files[0]); // convert to base64 string
                                                    }
                                                }
                                                $("#img1").change(function() {
                                                    readURL(this);
                                                });
                                             })
                                            $('#pic11').click(function(){
                                                $('#img1').click()
                                                function readURL(input) {
                                                    if (input.files && input.files[0]) {
                                                      var reader = new FileReader();
                                                      
                                                      reader.onload = function(e) {
                                                        $('#pic11').attr('src', e.target.result);
                                                      }
                                                      
                                                      reader.readAsDataURL(input.files[0]); // convert to base64 string
                                                    }
                                                }
                                                $("#img1").change(function() {
                                                    readURL(this);
                                                });/*
                                                function viewimg(event){
                                                    document.getElementById('#pic11').src = URL.createObjectURL(event.target.files[0])
                                                }*/
                                            })
                                        </script>
                                    </div>
                                    <div class="form-group">
                                        <div id="img2div">
                                            {% if room.pic2 == '' %}
                                            <img id="pic20" style="width: 50px;" src="https://icon-library.com/images/living-room-icon-png/living-room-icon-png-9.jpg" alt="">
                                            {% else %}
                                                <img id="pic21" style="width: 150px;" src="{{room.pic2.url}}" alt="">
                                            {% endif %}
                                        </div>
                                        <div id="img2replace"></div>
                                        <script>
                                            $('#pic20').click(function(){
                                                $('#img2').click()
                                                function readURL(input){
                                                    if(input.files && input.files[0]){
                                                        var reader = new FileReader();
                                                        reader.onload = function(e) {
                                                            $('#pic20').attr('src',e.target.result);
                                                        }
                                                        reader.readAsDataURL(input.files[0]);
                                                    }
                                                }
                                                $('#img2').change(function(){
                                                    readURL(this);
                                                })
                                            })
                                            $('#pic21').click(function(){
                                                $('#img2').click()
                                                function readURL(input){
                                                    if(input.files && input.files[0]){
                                                        var reader = new FileReader();
                                                        reader.onload = function(e) {
                                                            $('#pic21').attr('src',e.target.result);
                                                        }
                                                        reader.readAsDataURL(input.files[0]);
                                                    }
                                                }
                                                $('#img2').change(function(){
                                                    readURL(this);
                                                })
                                            })
                                        </script>
                                    </div>
                                    <div class="form-group">
                                        <div id="img3div">
                                            {% if room.pic3 == '' %}
                                            <img id="pic30" style="width: 50px;" src="https://icon-library.com/images/living-room-icon-png/living-room-icon-png-9.jpg" alt="">
                                            {% else %}
                                                <img id="pic31" style="width: 150px;" src="{{room.pic3.url}}" alt="">
                                            {% endif %}
                                        </div>
                                        <div id="img3replace"></div>
                                        <script>
                                            $('#pic30').click(function(){
                                                $('#img3').click()
                                                function readURL(input){
                                                    if(input.files && input.files[0]){
                                                        var reader = new FileReader();
                                                        reader.onload = function(e) {
                                                            $('#pic30').attr('src',e.target.result);
                                                        }
                                                        reader.readAsDataURL(input.files[0]);
                                                    }
                                                }
                                                $('#img3').change(function(){
                                                    readURL(this);
                                                })
                                            })
                                            $('#pic31').click(function(){
                                                $('#img3').click()
                                                function readURL(input){
                                                    if(input.files && input.files[0]){
                                                        var reader = new FileReader();
                                                        reader.onload = function(e) {
                                                            $('#pic31').attr('src',e.target.result);
                                                        }
                                                        reader.readAsDataURL(input.files[0]);
                                                    }
                                                }
                                                $('#img3').change(function(){
                                                    readURL(this);
                                                })
                                            })
                                        </script>
                                    </div>
                                    <div class="form-group">
                                        <div id="img4div">
                                            {% if room.pic4 == '' %}
                                            <img id="pic40" style="width: 50px;" src="https://icon-library.com/images/living-room-icon-png/living-room-icon-png-9.jpg" alt="">
                                            {% else %}
                                                <img id="pic41" style="width: 150px;" src="{{room.pic4.url}}" alt="">
                                            {% endif %}
                                        </div>
                                        <div id="img4replace"></div>
                                        <script>
                                            $('#pic40').click(function(){
                                                $('#img4').click()
                                                function readURL(input){
                                                    if(input.files && input.files[0]){
                                                        var reader = new FileReader();
                                                        reader.onload = function(e) {
                                                            $('#pic40').attr('src',e.target.result);
                                                        }
                                                        reader.readAsDataURL(input.files[0]);
                                                    }
                                                }
                                                $('#img4').change(function(){
                                                    readURL(this);
                                                })
                                            })
                                            $('#pic41').click(function(){
                                                $('#img4').click()
                                                function readURL(input){
                                                    if(input.files && input.files[0]){
                                                        var reader = new FileReader();
                                                        reader.onload = function(e) {
                                                            $('#pic41').attr('src',e.target.result);
                                                        }
                                                        reader.readAsDataURL(input.files[0]);
                                                    }
                                                }
                                                $('#img4').change(function(){
                                                    readURL(this);
                                                })
                                                
                                            })
                                        </script>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <input type="submit" class="btn btn-primary" value="Apply edits">
                    </div>
                </form>
                {% for message in messages %}
                    {{message}}
                {% endfor %} <br>
            </div>
        </section>
    </section>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
{%endblock%}